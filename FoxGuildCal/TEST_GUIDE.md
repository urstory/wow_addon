# FoxGuildCal 길드 공유 테스트 가이드

## 테스트 준비
1. 같은 길드의 2명 이상의 플레이어가 필요합니다
2. 모든 플레이어가 FoxGuildCal 애드온을 설치해야 합니다

## 테스트 방법

### 1. 초기 동기화 확인
- 첫 번째 플레이어가 일정을 추가합니다:
  1. `/foxcal` 명령으로 캘린더 열기
  2. 원하는 날짜 클릭
  3. "일정 추가" 버튼 클릭
  4. 제목, 시간 입력 후 저장

- 두 번째 플레이어가 로그인하면:
  1. 자동으로 "길드 캘린더 동기화 완료" 메시지가 표시됩니다
  2. `/foxcal` 명령으로 캘린더를 열면 첫 번째 플레이어가 추가한 일정이 보입니다

### 2. 실시간 동기화 확인
- 두 플레이어가 모두 온라인 상태에서:
  1. 한 플레이어가 새 일정을 추가합니다
  2. 다른 플레이어의 캘린더에 즉시 반영됩니다 (캘린더를 닫았다 열어보세요)

### 3. 디버그 명령어
동기화 상태를 확인하는 명령어들:

```lua
-- 현재 저장된 이벤트 수 확인
/script local g=addon:GetGuildKey(); local c=0; if g and FoxGuildCalDB.events[g] then for _ in pairs(FoxGuildCalDB.events[g]) do c=c+1 end end print("저장된 이벤트:", c)

-- 수동 동기화 요청
/foxcal sync

-- 길드 키 확인
/script print("길드 키:", addon:GetGuildKey() or "없음")
```

### 4. 테스트 시나리오

#### 시나리오 1: 새 플레이어 가입
1. Player A: 일정 3개 추가
2. Player B: 애드온 설치 후 첫 로그인
3. 확인: Player B의 캘린더에 Player A의 일정 3개가 모두 표시됨

#### 시나리오 2: 동시 편집
1. Player A와 B가 모두 온라인
2. Player A: 9월 20일에 "화산심장부" 일정 추가
3. Player B: 즉시 확인 (9월 20일에 녹색 점 표시)
4. Player B: 같은 날짜에 "검은날개 둥지" 일정 추가
5. Player A: 두 일정 모두 표시됨 확인

#### 시나리오 3: 삭제 권한
1. Player A: 일정 추가
2. Player B: 해당 일정 확인 (삭제 버튼 없음)
3. Player A: 자신의 일정 삭제 (X 버튼 클릭)
4. Player B: 일정이 사라짐 확인

## 문제 해결

### 동기화가 안 될 때
1. 두 플레이어가 같은 길드인지 확인
2. `/foxcal sync` 명령으로 수동 동기화
3. 캘린더를 닫았다가 다시 열기
4. `/reload` 명령으로 UI 새로고침

### 일정이 보이지 않을 때
1. 날짜를 클릭했는지 확인 (선택된 날짜는 파란색 배경)
2. 우측 패널에 "일정 목록" 또는 날짜가 표시되는지 확인
3. 녹색 점이 있는 날짜를 클릭해보기

## 주의사항
- 동기화는 같은 길드원끼리만 작동합니다
- 최소 1명 이상의 길드원이 온라인이어야 초기 동기화가 가능합니다
- 대량의 일정(100개 이상)은 동기화가 느려질 수 있습니다