# FoxChat 자동 탭 UI 개선 계획

## 개요
자동 탭이 복잡해짐에 따라 좌측 메뉴 방식으로 UI를 재구성하여 사용성을 개선합니다.

## UI 구조 설계

### 1. 전체 레이아웃
```
┌─────────────────────────────────────────┐
│            FoxChat 설정                  │
├──────┬──────┬──────┬──────┬─────────────┤
│채팅필터링│말머리/말꼬리│광고설정│ 자동 │
├──────────────────────────────────────────┤
│ ┌────────┬───────────────────────────┐  │
│ │메뉴목록 │        컨텐츠 영역         │  │
│ │        │                           │  │
│ │ ☑ 거래  │   선택된 메뉴의 상세설정  │  │
│ │ ☐ 인사  │                           │  │
│ │ ☐ 응답  │                           │  │
│ │ ☐ 주사위│                           │  │
│ └────────┴───────────────────────────┘  │
└─────────────────────────────────────────┘
```

### 2. 좌측 메뉴 구성
- **거래**: 거래 자동 귓속말
- **인사**: 파티 자동인사 (내가 참가/타인 참가)
- **응답**: AFK/DND/전투/인던 자동응답
- **주사위**: 주사위 자동 집계

### 3. 각 메뉴별 상세 내용

#### 3.1 거래 (거래 자동 귓속말)
- [✓] 거래 완료 시 자동으로 거래 내역을 귓속말로 전송
- 예시 메시지 표시

#### 3.2 인사 (파티 자동인사)
- **내가 참가할 때**
  - [✓] 활성화
  - 인사말 목록 (textarea)
  - 편집 버튼 (추가/삭제)
- **다른 사람이 참가할 때**
  - [✓] 활성화
  - 인사말 목록 (textarea)
  - 편집 버튼 (추가/삭제)

#### 3.3 응답 (AFK/DND/전투/인던 자동응답)
- [✓] AFK/DND 시 자동응답 사용
- [✓] 전투 중 자동응답 사용
  - 메시지: [입력 필드]
- [✓] 인던 중 자동응답 사용
  - 메시지: [입력 필드]
- 쿨다운: [5] 분 (1인당 재사용 대기시간)
- 도움말 텍스트

#### 3.4 주사위 (주사위 자동 집계)
- [✓] 파티/공대 주사위 자동 집계 사용
- 집계 시간: [20] 초
- 출력 채널: [드롭다운]
- 출력 형식:
  - (•) 우승자만
  - ( ) 상위 [3] 명
- 도움말 텍스트

## 구현 단계

### Phase 1: UI 프레임워크 구축
1. 좌측 메뉴 리스트 프레임 생성
2. 우측 컨텐츠 프레임 생성
3. 메뉴 버튼 생성 및 스타일링
4. 메뉴 선택 하이라이트 구현

### Phase 2: 메뉴 전환 로직
1. 메뉴 클릭 이벤트 핸들러
2. 컨텐츠 프레임 전환 함수
3. 선택된 메뉴 상태 저장

### Phase 3: 각 서브탭 컨텐츠 구현
1. 거래 자동 귓속말 UI 이동
2. 파티 자동인사 UI 이동
3. AFK/DND 자동응답 UI 개선
   - 전투 중 메시지 개별 체크박스
   - 인던 중 메시지 개별 체크박스
4. 주사위 집계 UI 이동

### Phase 4: 설정 저장/불러오기
1. 메뉴별 설정값 DB 구조 유지
2. UI 초기화 시 설정값 복원
3. 설정 변경 시 실시간 저장

## 기술적 고려사항

### 1. 프레임 재사용
- 기존 UI 요소들을 최대한 재활용
- 새로운 컨테이너 프레임으로 감싸기만 함

### 2. 이벤트 처리
- 메뉴 전환은 단순 Show/Hide 방식
- 모든 서브탭 프레임은 초기에 생성, 필요시만 표시

### 3. 스타일링
- 선택된 메뉴: 밝은 배경색 또는 테두리
- 비선택 메뉴: 기본 배경색
- 호버 효과: 약간 밝은 배경색

### 4. 반응형 디자인
- 좌측 메뉴: 고정 너비 (100px)
- 우측 컨텐츠: 나머지 공간 활용
- 최소 창 크기 제한

## 예상 코드 구조

```lua
-- 메뉴 데이터 구조
local menuItems = {
    {id = "trade", name = "거래", icon = nil},
    {id = "greet", name = "인사", icon = nil},
    {id = "reply", name = "응답", icon = nil},
    {id = "roll", name = "주사위", icon = nil}
}

-- 메뉴 버튼 생성
for i, item in ipairs(menuItems) do
    local btn = CreateMenuButton(item)
    btn:SetPoint("TOPLEFT", leftPanel, "TOPLEFT", 0, -30 * (i-1))
end

-- 컨텐츠 프레임 전환
function ShowContent(menuId)
    -- 모든 컨텐츠 숨기기
    for id, frame in pairs(contentFrames) do
        frame:Hide()
    end
    -- 선택된 컨텐츠만 표시
    contentFrames[menuId]:Show()
end
```

## 완료 기준
1. 모든 자동 기능이 서브 메뉴로 정리됨
2. 전투/인던 메시지 개별 체크박스 동작
3. 주사위 집계 기능 정상 작동
4. 사용자 경험 개선 확인